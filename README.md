# å©šç¤¼ä¸»æŒäººå¹³å°

ä¸€ä¸ªç°ä»£åŒ–çš„å©šç¤¼ä¸»æŒäººæœåŠ¡å¹³å°ï¼Œæä¾›ä¸»æŒäººå±•ç¤ºã€é¢„çº¦ã€è¯„ä»·ç­‰åŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### è…¾è®¯äº‘æœåŠ¡å™¨ä¸€é”®éƒ¨ç½²

**æ–¹å¼ä¸€ï¼šå…¨æ–°æœåŠ¡å™¨å¿«é€Ÿéƒ¨ç½²**
```bash
# 1. ç™»å½•è…¾è®¯äº‘æœåŠ¡å™¨
ssh root@your-server-ip

# 2. å…‹éš†é¡¹ç›®
git clone <your-repository-url>
cd wedding-client

# 3. æ‰§è¡Œä¸€é”®éƒ¨ç½²ï¼ˆæ¨èç”¨äºå…¨æ–°æœåŠ¡å™¨ï¼‰
sudo ./quick-deploy.sh
```

**æ–¹å¼äºŒï¼šä½¿ç”¨å®Œæ•´éƒ¨ç½²è„šæœ¬**
```bash
# 1. å…‹éš†é¡¹ç›®åˆ°æœåŠ¡å™¨
git clone <your-repository-url>
cd wedding-client

# 2. æ‰§è¡Œéƒ¨ç½²
./deploy.sh
```

### æœ¬åœ°å¼€å‘ç¯å¢ƒ

```bash
# 1. å¯åŠ¨åŸºç¡€è®¾æ–½æœåŠ¡
docker-compose up -d mysql redis minio

# 2. å¯åŠ¨åç«¯æœåŠ¡
cd server
npm install
npm run dev

# 3. å¯åŠ¨å‰ç«¯æœåŠ¡
cd web
npm install
npm run dev
```

## ğŸ“‹ éƒ¨ç½²è„šæœ¬åŠŸèƒ½

### deploy.sh - å®Œæ•´éƒ¨ç½²è„šæœ¬
```bash
./deploy.sh [é€‰é¡¹]

é€‰é¡¹ï¼š
  deploy, -d     æ‰§è¡Œå®Œæ•´éƒ¨ç½²ï¼ˆé»˜è®¤ï¼‰
  start, -s      å¯åŠ¨æœåŠ¡
  stop, -t       åœæ­¢æœåŠ¡
  restart, -r    é‡å¯æœåŠ¡
  status, -st    æŸ¥çœ‹æœåŠ¡çŠ¶æ€
  logs, -l       æŸ¥çœ‹æœåŠ¡æ—¥å¿—
  backup, -b     å¤‡ä»½å½“å‰éƒ¨ç½²
  clean, -c      æ¸…ç† Docker èµ„æº
  update, -u     æ›´æ–°å¹¶é‡å¯æœåŠ¡
  help, -h       æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

### quick-deploy.sh - è…¾è®¯äº‘å¿«é€Ÿéƒ¨ç½²
- è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿç¯å¢ƒ
- è‡ªåŠ¨å®‰è£… Docker å’Œ Docker Compose
- è‡ªåŠ¨é…ç½®é˜²ç«å¢™
- ä¸€é”®éƒ¨ç½²æ‰€æœ‰æœåŠ¡
- é€‚ç”¨äºå…¨æ–°çš„è…¾è®¯äº‘æœåŠ¡å™¨

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
wedding-client/
â”œâ”€â”€ web/                 # React å‰ç«¯åº”ç”¨
â”œâ”€â”€ server/              # Node.js åç«¯ API
â”œâ”€â”€ Caddyfile           # Caddy åå‘ä»£ç†é…ç½®
â”œâ”€â”€ DEPLOYMENT_GUIDE.md # è¯¦ç»†éƒ¨ç½²æŒ‡å—
â””â”€â”€ deployment/         # éƒ¨ç½²ç›¸å…³æ–‡æ¡£
```

## ğŸ”§ æœåŠ¡ç»„ä»¶

- **Web å‰ç«¯**: React + TypeScript + Vite
- **API åç«¯**: Node.js + Express + TypeScript
- **æ•°æ®åº“**: MySQL 8.0
- **ç¼“å­˜**: Redis 7
- **æ–‡ä»¶å­˜å‚¨**: MinIO
- **åå‘ä»£ç†**: Caddy 2

## ğŸŒ è®¿é—®åœ°å€

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **Web åº”ç”¨**: `http://your-server-ip`
- **API æœåŠ¡**: `http://your-server-ip:8000`
- **MinIO æ§åˆ¶å°**: `http://your-server-ip:9001`
  - ç”¨æˆ·å: `rustfsadmin`
  - å¯†ç : `rustfssecret123`

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- [éƒ¨ç½²æŒ‡å—](./DEPLOYMENT_GUIDE.md) - è¯¦ç»†çš„éƒ¨ç½²è¯´æ˜å’Œæ•…éšœæ’é™¤
- [API æ–‡æ¡£](./docs/) - API æ¥å£æ–‡æ¡£
- [å¼€å‘æ–‡æ¡£](./docs/) - å¼€å‘ç¯å¢ƒæ­å»ºå’Œè´¡çŒ®æŒ‡å—

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker-compose logs -f [service-name]

# é‡å¯æœåŠ¡
docker-compose restart [service-name]

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# æ¸…ç† Docker èµ„æº
docker system prune -f
```

## ğŸ”’ å®‰å…¨é…ç½®

### ç”Ÿäº§ç¯å¢ƒå»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **
   - æ•°æ®åº“å¯†ç 
   - MinIO è®¿é—®å¯†é’¥
   - JWT å¯†é’¥

2. **é…ç½® HTTPS**
   - ä½¿ç”¨åŸŸåå¹¶é…ç½® SSL è¯ä¹¦
   - ä¿®æ”¹ `Caddyfile` ä¸­çš„åŸŸåé…ç½®

3. **é˜²ç«å¢™é…ç½®**
   - ä»…å¼€æ”¾å¿…è¦ç«¯å£
   - é…ç½® IP ç™½åå•ï¼ˆå¦‚éœ€è¦ï¼‰

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ [éƒ¨ç½²æŒ‡å—](./DEPLOYMENT_GUIDE.md)
2. æ£€æŸ¥æœåŠ¡æ—¥å¿—ï¼š`./deploy.sh logs`
3. æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼š`./deploy.sh status`
4. æäº¤ Issue å¹¶æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

## ğŸ“„ è®¸å¯è¯

MIT License

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰