# ========================================
# Wedding Client 环境配置模板
# 支持三套环境: tencent(腾讯云), prod(生产), dev(开发)
# ========================================

# ========================================
# 服务器基础配置
# ========================================
SERVER_IP=${SERVER_IP}
INTERNAL_IP=${INTERNAL_IP}
SSH_USER=${SSH_USER}
SSH_PORT=${SSH_PORT}

# 部署目录配置
DEPLOY_DIR=${DEPLOY_DIR}
REMOTE_DIR=${REMOTE_DIR}
BACKUP_DIR=${BACKUP_DIR}
LOG_DIR=${LOG_DIR}
DATA_DIR=${DATA_DIR}
UPLOADS_DIR=${UPLOADS_DIR}

# ========================================
# 服务端口配置
# ========================================
WEB_PORT=${WEB_PORT}
API_PORT=${API_PORT}
MYSQL_PORT=${MYSQL_PORT}
REDIS_PORT=${REDIS_PORT}
MINIO_PORT=${MINIO_PORT}
MINIO_CONSOLE_PORT=${MINIO_CONSOLE_PORT}

# ========================================
# 项目基础信息
# ========================================
PROJECT_NAME=${PROJECT_NAME}
ENVIRONMENT=${ENVIRONMENT}
NODE_ENV=${NODE_ENV}
LOG_LEVEL=${LOG_LEVEL}

# ========================================
# 数据库配置 (MySQL)
# ========================================
MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}
MYSQL_DATABASE=${MYSQL_DATABASE}
MYSQL_USER=${MYSQL_USER}
MYSQL_PASSWORD=${MYSQL_PASSWORD}

# 数据库连接配置 (使用容器内部名称)
DB_HOST=${DB_HOST}
DB_PORT=${DB_PORT}
DB_NAME=${DB_NAME}
DB_USERNAME=${DB_USERNAME}
DB_PASSWORD=${DB_PASSWORD}
DATABASE_URL=${DATABASE_URL}

# ========================================
# Redis缓存配置
# ========================================
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_HOST=${REDIS_HOST}
REDIS_PORT=${REDIS_PORT}
REDIS_URL=${REDIS_URL}

# ========================================
# MinIO对象存储配置
# ========================================
MINIO_ROOT_USER=${MINIO_ROOT_USER}
MINIO_ROOT_PASSWORD=${MINIO_ROOT_PASSWORD}
MINIO_BUCKET=${MINIO_BUCKET}
MINIO_REGION=${MINIO_REGION}

# MinIO连接配置 (内部容器访问)
OSS_TYPE=${OSS_TYPE}
OSS_ENDPOINT=${OSS_ENDPOINT}
MINIO_ENDPOINT=${MINIO_ENDPOINT}
OSS_ACCESS_KEY=${OSS_ACCESS_KEY}
OSS_SECRET_KEY=${OSS_SECRET_KEY}
OSS_BUCKET=${OSS_BUCKET}
MINIO_ACCESS_KEY=${MINIO_ACCESS_KEY}
MINIO_SECRET_KEY=${MINIO_SECRET_KEY}
MINIO_BUCKET_NAME=${MINIO_BUCKET_NAME}
MINIO_BUCKET=${MINIO_BUCKET}

# MinIO外部访问配置
MINIO_PUBLIC_ENDPOINT=${MINIO_PUBLIC_ENDPOINT}
CDN_BASE_URL=${CDN_BASE_URL}

# ========================================
# JWT认证配置
# ========================================
JWT_SECRET=${JWT_SECRET}
JWT_REFRESH_SECRET=${JWT_REFRESH_SECRET}
JWT_EXPIRES_IN=${JWT_EXPIRES_IN}
JWT_REFRESH_EXPIRES_IN=${JWT_REFRESH_EXPIRES_IN}

# ========================================
# API服务配置
# ========================================
API_HOST=${API_HOST}
API_PORT=${API_PORT}
API_TIMEOUT=${API_TIMEOUT}
API_RATE_LIMIT=${API_RATE_LIMIT}
CORS_ORIGIN=${CORS_ORIGIN}

# ========================================
# 前端Web配置
# ========================================
VITE_API_URL=${VITE_API_URL}
VITE_UPLOAD_URL=${VITE_UPLOAD_URL}
VITE_MINIO_URL=${VITE_MINIO_URL}
VITE_APP_TITLE=${VITE_APP_TITLE}
VITE_APP_VERSION=${VITE_APP_VERSION}

# ========================================
# Docker镜像配置
# ========================================
WEB_IMAGE=${WEB_IMAGE}
API_IMAGE=${API_IMAGE}
MYSQL_IMAGE=${MYSQL_IMAGE}
REDIS_IMAGE=${REDIS_IMAGE}
MINIO_IMAGE=${MINIO_IMAGE}
NGINX_IMAGE=${NGINX_IMAGE}

# 镜像拉取配置
USE_REGISTRY=${USE_REGISTRY}
PULL_IMAGES=${PULL_IMAGES}

# ========================================
# 监控和健康检查配置
# ========================================
HEALTH_CHECK_INTERVAL=${HEALTH_CHECK_INTERVAL}
HEALTH_CHECK_TIMEOUT=${HEALTH_CHECK_TIMEOUT}
HEALTH_CHECK_RETRIES=${HEALTH_CHECK_RETRIES}
HEALTH_CHECK_START_PERIOD=${HEALTH_CHECK_START_PERIOD}

# ========================================
# 日志配置
# ========================================
LOG_LEVEL=${LOG_LEVEL}
LOG_FORMAT=${LOG_FORMAT}
MAX_LOG_FILES=${MAX_LOG_FILES}
MAX_LOG_SIZE=${MAX_LOG_SIZE}
LOG_RETENTION_DAYS=${LOG_RETENTION_DAYS}

# ========================================
# 性能配置
# ========================================
# Node.js性能配置
NODE_OPTIONS=${NODE_OPTIONS}
UV_THREADPOOL_SIZE=${UV_THREADPOOL_SIZE}

# 数据库连接池配置
DB_CONNECTION_LIMIT=${DB_CONNECTION_LIMIT}
DB_ACQUIRE_TIMEOUT=${DB_ACQUIRE_TIMEOUT}
DB_TIMEOUT=${DB_TIMEOUT}

# Redis连接配置
REDIS_MAX_RETRIES=${REDIS_MAX_RETRIES}
REDIS_RETRY_DELAY=${REDIS_RETRY_DELAY}
REDIS_CONNECTION_TIMEOUT=${REDIS_CONNECTION_TIMEOUT}

# ========================================
# 安全配置
# ========================================
# CORS配置
CORS_ORIGIN=${CORS_ORIGIN}
CORS_METHODS=${CORS_METHODS}
CORS_ALLOWED_HEADERS=${CORS_ALLOWED_HEADERS}

# 安全头配置
SECURITY_HEADERS=${SECURITY_HEADERS}
HSTS_MAX_AGE=${HSTS_MAX_AGE}
CSP_POLICY=${CSP_POLICY}

# 速率限制配置
RATE_LIMIT_WINDOW=${RATE_LIMIT_WINDOW}
RATE_LIMIT_MAX_REQUESTS=${RATE_LIMIT_MAX_REQUESTS}
RATE_LIMIT_SKIP_SUCCESSFUL=${RATE_LIMIT_SKIP_SUCCESSFUL}

# ========================================
# 备份配置
# ========================================
BACKUP_ENABLED=${BACKUP_ENABLED}
BACKUP_SCHEDULE=${BACKUP_SCHEDULE}
BACKUP_RETENTION_DAYS=${BACKUP_RETENTION_DAYS}
BACKUP_COMPRESSION=${BACKUP_COMPRESSION}

# ========================================
# SSL/TLS配置
# ========================================
SSL_ENABLED=${SSL_ENABLED}

# ========================================
# 第三方服务配置
# ========================================
# 邮件服务配置
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=${SMTP_PORT}
SMTP_SECURE=${SMTP_SECURE}
SMTP_USER=${SMTP_USER}
SMTP_PASS=${SMTP_PASS}
SMTP_FROM=${SMTP_FROM}

# ========================================
# 开发和调试配置
# ========================================
DEBUG=${DEBUG}
VERBOSE_LOGGING=${VERBOSE_LOGGING}
ENABLE_PROFILING=${ENABLE_PROFILING}
ENABLE_METRICS=${ENABLE_METRICS}

# ========================================
# 特性开关
# ========================================
FEATURE_UPLOAD_ENABLED=${FEATURE_UPLOAD_ENABLED}
FEATURE_ADMIN_PANEL=${FEATURE_ADMIN_PANEL}
FEATURE_USER_REGISTRATION=${FEATURE_USER_REGISTRATION}
FEATURE_EMAIL_VERIFICATION=${FEATURE_EMAIL_VERIFICATION}
FEATURE_SMS_VERIFICATION=${FEATURE_SMS_VERIFICATION}

# ========================================
# 缓存配置
# ========================================
CACHE_TTL=${CACHE_TTL}
CACHE_MAX_SIZE=${CACHE_MAX_SIZE}
CACHE_ENABLED=${CACHE_ENABLED}

# ========================================
# 文件上传配置
# ========================================
UPLOAD_MAX_SIZE=${UPLOAD_MAX_SIZE}
UPLOAD_ALLOWED_TYPES=${UPLOAD_ALLOWED_TYPES}
UPLOAD_PATH=${UPLOAD_PATH}
UPLOAD_TEMP_PATH=${UPLOAD_TEMP_PATH}

# ========================================
# 会话配置
# ========================================
SESSION_SECRET=${SESSION_SECRET}
SESSION_MAX_AGE=${SESSION_MAX_AGE}
SESSION_SECURE=${SESSION_SECURE}
SESSION_HTTP_ONLY=${SESSION_HTTP_ONLY}

# ========================================
# 时区和本地化配置
# ========================================
TZ=${TZ}
LANG=${LANG}
LC_ALL=${LC_ALL}
DEFAULT_LOCALE=${DEFAULT_LOCALE}

# ========================================
# 资源限制配置
# ========================================
# MySQL资源限制
MYSQL_MAX_CONNECTIONS=${MYSQL_MAX_CONNECTIONS}
MYSQL_INNODB_BUFFER_POOL_SIZE=${MYSQL_INNODB_BUFFER_POOL_SIZE}

# Redis资源限制
REDIS_MAX_MEMORY=${REDIS_MAX_MEMORY}
REDIS_MAX_MEMORY_POLICY=${REDIS_MAX_MEMORY_POLICY}

# API资源限制
API_MAX_REQUEST_SIZE=${API_MAX_REQUEST_SIZE}
API_MAX_CONCURRENT_REQUESTS=${API_MAX_CONCURRENT_REQUESTS}

# ========================================
# 云平台特定配置
# ========================================
CLOUD_PROVIDER=${CLOUD_PROVIDER}
DEPLOYMENT_ENV=${DEPLOYMENT_ENV}
DEPLOYMENT_DATE=${DEPLOYMENT_DATE}
VERSION=${VERSION}

# 网络配置
NETWORK_MODE=${NETWORK_MODE}
DOCKER_NETWORK_NAME=${DOCKER_NETWORK_NAME}

# 容器重启策略
RESTART_POLICY=${RESTART_POLICY}

# 容器健康检查
HEALTHCHECK_ENABLED=${HEALTHCHECK_ENABLED}