# Wedding Client 部署配置文件
# 复制此文件为 .env 并根据实际情况修改配置

# ===========================================
# 服务器配置
# ===========================================

# 生产服务器信息
PRODUCTION_HOST=114.132.225.94
PRODUCTION_USER=root
PRODUCTION_PORT=22

# 项目部署路径
REMOTE_DEPLOY_PATH=/opt/wedding

# GitHub 仓库
GITHUB_REPO=https://github.com/xuanyiying/wedding.git
GITHUB_BRANCH=main

# ===========================================
# 应用配置
# ===========================================

# 前端配置
WEB_PORT=8080
WEB_HOST=0.0.0.0

# 后端配置
SERVER_PORT=9000
SERVER_HOST=0.0.0.0

# API 基础路径
API_BASE_URL=http://114.132.225.94:8080/api/v1

# ===========================================
# 数据库配置
# ===========================================

# MySQL 配置
MYSQL_ROOT_PASSWORD=wedding_root_2024
MYSQL_DATABASE=wedding_db
MYSQL_USER=wedding_user
MYSQL_PASSWORD=wedding_pass_2024
MYSQL_PORT=3306

# ===========================================
# 缓存配置
# ===========================================

# Redis 配置
REDIS_PASSWORD=wedding_redis_2024
REDIS_PORT=6379

# ===========================================
# 存储配置
# ===========================================

# MinIO 配置
MINIO_ROOT_USER=wedding_minio
MINIO_ROOT_PASSWORD=wedding_minio_2024
MINIO_PORT=9001
MINIO_CONSOLE_PORT=9002

# ===========================================
# 监控配置
# ===========================================

# Slack 通知 (可选)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#deployments

# 健康检查配置
HEALTH_CHECK_INTERVAL=300  # 5分钟
HEALTH_CHECK_TIMEOUT=30    # 30秒

# ===========================================
# SSL/TLS 配置 (可选)
# ===========================================

# 域名配置
DOMAIN_NAME=your-domain.com
SSL_EMAIL=your-email@example.com

# ===========================================
# 备份配置
# ===========================================

# 备份保留天数
BACKUP_RETENTION_DAYS=7

# 备份存储路径
BACKUP_PATH=/opt/wedding/backups

# ===========================================
# 日志配置
# ===========================================

# 日志级别 (debug, info, warn, error)
LOG_LEVEL=info

# 日志文件路径
LOG_PATH=/opt/wedding/logs

# 日志文件大小限制 (MB)
LOG_MAX_SIZE=100

# 日志文件保留数量
LOG_MAX_FILES=10

# ===========================================
# 性能配置
# ===========================================

# 容器资源限制
WEB_MEMORY_LIMIT=512m
SERVER_MEMORY_LIMIT=1g
MYSQL_MEMORY_LIMIT=1g
REDIS_MEMORY_LIMIT=256m
MINIO_MEMORY_LIMIT=512m

# CPU 限制
WEB_CPU_LIMIT=0.5
SERVER_CPU_LIMIT=1.0
MYSQL_CPU_LIMIT=1.0
REDIS_CPU_LIMIT=0.5
MINIO_CPU_LIMIT=0.5

# ===========================================
# 开发环境配置
# ===========================================

# 开发模式
NODE_ENV=production
GO_ENV=production

# 调试模式
DEBUG=false

# ===========================================
# 安全配置
# ===========================================

# JWT 密钥 (请修改为随机字符串)
JWT_SECRET=your-super-secret-jwt-key-change-this

# 加密密钥 (请修改为随机字符串)
ENCRYPTION_KEY=your-32-character-encryption-key

# CORS 配置
CORS_ORIGINS=http://114.132.225.94:8080,http://localhost:3000

# ===========================================
# 第三方服务配置 (可选)
# ===========================================

# 邮件服务
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# 短信服务
SMS_API_KEY=your-sms-api-key
SMS_API_SECRET=your-sms-api-secret

# 支付服务
PAYMENT_API_KEY=your-payment-api-key
PAYMENT_API_SECRET=your-payment-api-secret

# ===========================================
# 使用说明
# ===========================================

# 1. 复制此文件为 .env:
#    cp deployment-config.env .env
#
# 2. 根据实际情况修改配置值
#
# 3. 确保敏感信息（密码、密钥）的安全性
#
# 4. 在 GitHub Secrets 中配置以下变量:
#    - PRODUCTION_HOST
#    - PRODUCTION_USER  
#    - PRODUCTION_SSH_KEY
#    - SLACK_WEBHOOK_URL (可选)
#
# 5. 使用快速部署脚本:
#    ./quick-deploy.sh setup    # 初始化服务器
#    ./quick-deploy.sh deploy   # 执行部署
#    ./quick-deploy.sh status   # 检查状态